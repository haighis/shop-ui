<!-- 
Purpose: Shows productlisting view. Product Listing item 
will allow the user to view production information
and to enter quantity with one click add to cart

Separate of concerns/SRP
- This view is only responsible for listing products

1. ng repeat of vm.products
2. mdbootstrap with card
3. to prevent the ui from skewing use of angular limitTo filter with elipses

-->

<div class="row">
    <!--First columnn-->
    <div class="col-md-12" ng-repeat="product in vm.products">
        <!--Card-->
        <div class="card">

            <!--Card image-->
            <div class="view overlay hm-white-slight">
                <img src="" class="img-fluid" alt="">
                <a href="#">
                    <div class="mask"></div>
                </a>
            </div>
            <!--/.Card image-->

            <!--Card content-->
            <div class="card-block">
                <!--Title-->
                <h4 class="card-title">{{ product.title }} {{product.title.length > 100 ? '...' : ''}}</h4>
                <!--Text-->
                <p class="card-text">
                    {{ product.description | limitTo: 500 }} {{product.description.length > 500 ? '...' : ''}}</p>
                <p class="card-text">${{ product.price }} </p>
                
                <p class="card-text"> Qty
                    <select style="display:block" ng-change="vm.updateQuantity(item);" ng-model="vm.quantity[product.id]">
                       <option data-ng-repeat="n in [1,2,3,4,5,6,7,8,9]" value="{{n}}">{{n}}</option>
                    </select>
                    <!-- <select style="display:block" ng-model="item.quantity[product.id]" ng-options="n for n in [] | range:1:50"></select> -->
                <!-- <input id="quantity" 
                name="quantity" 
                max-length="2" size="5" value="1"
                ng-model="vm.quantity[product.id]">  -->
                <button ng-click="vm.add(product)" ng-disabled="vm.quantity[product.id].length != 1" class="btn btn-primary">Add to Cart</button>
                </p>
            </div>
            <!--/.Card content-->

        </div>
        <!--/.Card-->
    </div>
    <!--First columnn-->

</div>